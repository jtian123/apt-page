<!DOCTYPE html>
<html lang="en-us">

{% include head.html %}

<body>
    {% include header.html %}
    
    <!-- Hero Section -->
    <section class="hero-section">
        <div class="hero-container">
            <h1 class="hero-title">{{ site.hero_title }}</h1>
            <p class="hero-subtitle">{{ site.hero_subtitle }}</p>
            <div class="hero-cta">
                {% if site.playstore_link %}
                    <a class="store-button" href="{{site.playstore_link}}">
                        <img class="store-badge" src="assets/playstore.png" alt="Get it on Google Play">
                    </a>
                {% endif %}
                <a class="store-button" href="{{site.appstore_link}}">
                    <img class="store-badge" src="assets/appstore.png" alt="Download on the App Store">
                </a>
            </div>
        </div>
    </section>

    <!-- Image Section - Three iPhone Screenshots with Glass Effect -->
    <section class="image-section">
        <div class="image-container">
            <div class="screenshots-showcase">
                <!-- Left Screenshot (hidden on mobile) -->
                <div class="screenshot-card screenshot-side screenshot-left">
                    <div class="glass-frame">
                        {% if site.image_section_left %}
                            <img src="{{ site.image_section_left }}" alt="App Screenshot Left" class="screenshot-image">
                        {% else %}
                            <div class="screenshot-placeholder">Left Screenshot</div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Main Screenshot (always visible) -->
                <div class="screenshot-card screenshot-main">
                    <div class="glass-frame main-frame">
                        {% if site.image_section_main %}
                            <img src="{{ site.image_section_main }}" alt="Main App Screenshot" class="screenshot-image main-image">
                        {% else %}
                            <div class="screenshot-placeholder">Main Screenshot</div>
                        {% endif %}
                    </div>
                </div>
                
                <!-- Right Screenshot (hidden on mobile) -->
                <div class="screenshot-card screenshot-side screenshot-right">
                    <div class="glass-frame">
                        {% if site.image_section_right %}
                            <img src="{{ site.image_section_right }}" alt="App Screenshot Right" class="screenshot-image">
                        {% else %}
                            <div class="screenshot-placeholder">Right Screenshot</div>
                        {% endif %}
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- University Explanatory Section -->
    <section class="university-info-section">
        <div class="university-info-container">
            <p class="university-info-text">
                <strong>University-Friendly:</strong> Every user must verify their .edu email or ID. A custom university logo is displayed to foster a safer, campus-oriented community.
            </p>
            
            <!-- Verification Cards -->
            <div class="verification-cards">
                <div class="verification-card">
                    <div class="verification-icon">
                        <i class="{{ site.text_section_campus_verify_icon }}"></i>
                    </div>
                    <div class="verification-content">
                        <h3 class="verification-title">{{ site.text_section_campus_verify_text }}</h3>
                        <div class="verification-status">
                            <i class="fas fa-check-circle"></i>
                            <span>Verified</span>
                        </div>
                    </div>
                </div>
                
                <div class="verification-card">
                    <div class="verification-icon">
                        <i class="{{ site.text_section_id_verify_icon }}"></i>
                    </div>
                    <div class="verification-content">
                        <h3 class="verification-title">{{ site.text_section_id_verify_text }}</h3>
                        <div class="verification-status">
                            <i class="fas fa-check-circle"></i>
                            <span>Verified</span>
                        </div>
                    </div>
                </div>
                
                <div class="verification-card">
                    <div class="verification-icon">
                        <i class="{{ site.text_section_social_verify_icon }}"></i>
                    </div>
                    <div class="verification-content">
                        <h3 class="verification-title">{{ site.text_section_social_verify_title }}</h3>
                        <p class="verification-subtitle">{{ site.text_section_social_verify_text }}</p>
                        <div class="social-icons">
                            <i class="fab fa-instagram"></i>
                            <i class="fab fa-linkedin"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Workflow Section -->
    <section class="workflow-section">
        <div class="workflow-container">
            <h2 class="workflow-title">{{ site.workflow_title }}</h2>
            
            <div class="workflow-timeline">
                <!-- Step 1 -->
                <div class="workflow-step" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-icon">
                        <i class="{{ site.workflow_step1_icon }}"></i>
                    </div>
                    <div class="step-content">
                        <h3 class="step-title">{{ site.workflow_step1_title }}</h3>
                        <p class="step-subtitle">{{ site.workflow_step1_subtitle }}</p>
                    </div>
                </div>
                
                <!-- Step 2 -->
                <div class="workflow-step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-icon">
                        <i class="{{ site.workflow_step2_icon }}"></i>
                    </div>
                    <div class="step-content">
                        <h3 class="step-title">{{ site.workflow_step2_title }}</h3>
                        <p class="step-subtitle">{{ site.workflow_step2_subtitle }}</p>
                    </div>
                </div>
                
                <!-- Step 3 -->
                <div class="workflow-step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-icon">
                        <i class="{{ site.workflow_step3_icon }}"></i>
                    </div>
                    <div class="step-content">
                        <h3 class="step-title">{{ site.workflow_step3_title }}</h3>
                        <p class="step-subtitle">{{ site.workflow_step3_subtitle }}</p>
                    </div>
                </div>
                
                <!-- Step 4 -->
                <div class="workflow-step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-icon">
                        <i class="{{ site.workflow_step4_icon }}"></i>
                    </div>
                    <div class="step-content">
                        <h3 class="step-title">{{ site.workflow_step4_title }}</h3>
                        <p class="step-subtitle">{{ site.workflow_step4_subtitle }}</p>
                    </div>
                </div>
                
                <!-- Step 5 -->
                <div class="workflow-step" data-step="5">
                    <div class="step-number">5</div>
                    <div class="step-icon">
                        <i class="{{ site.workflow_step5_icon }}"></i>
                    </div>
                    <div class="step-content">
                        <h3 class="step-title">{{ site.workflow_step5_title }}</h3>
                        <p class="step-subtitle">{{ site.workflow_step5_subtitle }}</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Text Section -->
    <section class="text-section">
        <div class="text-container">
            <h2 class="text-title">{{ site.text_section_title }}</h2>
            <p class="text-subtitle">{{ site.text_section_subtitle }}</p>
        </div>
    </section>

    <!-- Timeline Section - Simplified Card Style -->
    <section class="timeline-section">
        <div class="timeline-container-simple">
            <!-- Timeline Card 1: Smart Contract -->
            <div class="timeline-card">
                <div class="timeline-text">
                    <h3 class="timeline-title">{{ site.timeline_card1_title }}</h3>
                    <div class="timeline-content">
                        <p><i class="fas fa-comments"></i> {{ site.timeline_card1_line1 }}</p>
                        <p><i class="fas fa-brain"></i> {{ site.timeline_card1_line2 }}</p>
                        <p><i class="fas fa-signature"></i> {{ site.timeline_card1_line3 }}</p>
                    </div>
                </div>
                <div class="timeline-image">
                    {% if site.timeline_card1_image %}
                        <div class="timeline-gallery" data-gallery="1">
                            <!-- Image 1 (always visible by default) -->
                            <div class="timeline-slide active" data-slide="0">
                                <img src="{{ site.timeline_card1_image }}" alt="{{ site.timeline_card1_title }} - Image 1" />
                            </div>
                            
                            <!-- Image 2 (if exists) -->
                            {% if site.timeline_card1_image2 %}
                                <div class="timeline-slide" data-slide="1">
                                    <img src="{{ site.timeline_card1_image2 }}" alt="{{ site.timeline_card1_title }} - Image 2" />
                                </div>
                            {% endif %}
                            
                            <!-- Image 3 (if exists) -->
                            {% if site.timeline_card1_image3 %}
                                <div class="timeline-slide" data-slide="2">
                                    <img src="{{ site.timeline_card1_image3 }}" alt="{{ site.timeline_card1_title }} - Image 3" />
                                </div>
                            {% endif %}
                                
                            <!-- Only show navigation if there are multiple images -->
                            {% if site.timeline_card1_image2 %}
                                <div class="timeline-nav">
                                    <div class="timeline-dots">
                                        <span class="timeline-dot active" data-slide="0"></span>
                                        <span class="timeline-dot" data-slide="1"></span>
                                        {% if site.timeline_card1_image3 %}
                                            <span class="timeline-dot" data-slide="2"></span>
                                        {% endif %}
                                    </div>
                                </div>
                                
                                <!-- Navigation arrows -->
                                <div class="timeline-arrows">
                                    <button class="timeline-arrow timeline-arrow-left" data-direction="prev" aria-label="Previous image">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <button class="timeline-arrow timeline-arrow-right" data-direction="next" aria-label="Next image">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            {% endif %}
                        </div>
                    {% else %}
                        <div class="timeline-placeholder">
                            <span>Timeline Image 1</span>
                        </div>
                    {% endif %}
                </div>
            </div>

            <!-- Timeline Card 2: Management System -->
            <div class="timeline-card">
                <div class="timeline-text">
                    <h3 class="timeline-title">{{ site.timeline_card2_title }}</h3>
                    <div class="timeline-content">
                        <p><i class="fas fa-cogs"></i> {{ site.timeline_card2_line1 }}</p>
                        <p><i class="fas fa-bolt"></i> {{ site.timeline_card2_line2 }}</p>
                        <p><i class="fas fa-folder-open"></i> {{ site.timeline_card2_line3 }}</p>
                    </div>
                </div>
                <div class="timeline-image">
                    {% if site.timeline_card2_image %}
                        <div class="timeline-gallery" data-gallery="2">
                            <!-- Image 1 (always visible by default) -->
                            <div class="timeline-slide active" data-slide="0">
                                <img src="{{ site.timeline_card2_image }}" alt="{{ site.timeline_card2_title }} - Image 1" />
                            </div>
                            
                            <!-- Image 2 (if exists) -->
                            {% if site.timeline_card2_image2 %}
                                <div class="timeline-slide" data-slide="1">
                                    <img src="{{ site.timeline_card2_image2 }}" alt="{{ site.timeline_card2_title }} - Image 2" />
                                </div>
                                
                                <!-- Only show navigation if there are multiple images -->
                                <div class="timeline-nav">
                                    <div class="timeline-dots">
                                        <span class="timeline-dot active" data-slide="0"></span>
                                        <span class="timeline-dot" data-slide="1"></span>
                                    </div>
                                </div>
                                
                                <!-- Navigation arrows -->
                                <div class="timeline-arrows">
                                    <button class="timeline-arrow timeline-arrow-left" data-direction="prev" aria-label="Previous image">
                                        <i class="fas fa-chevron-left"></i>
                                    </button>
                                    <button class="timeline-arrow timeline-arrow-right" data-direction="next" aria-label="Next image">
                                        <i class="fas fa-chevron-right"></i>
                                    </button>
                                </div>
                            {% endif %}
                        </div>
                    {% else %}
                        <div class="timeline-placeholder">
                            <span>Timeline Image 2</span>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </section>

    <!-- Marketplace Showcase Section -->
    <section class="marketplace-section">
        <div class="marketplace-container">
            <div class="marketplace-card">
                <!-- Left side: Text content -->
                <div class="marketplace-text">
                    <h2 class="marketplace-title">{{ site.marketplace_title }}</h2>
                    <p class="marketplace-subtitle">{{ site.marketplace_subtitle }}</p>
                </div>
                
                <!-- Right side: Image -->
                <div class="marketplace-image">
                    {% if site.marketplace_image %}
                        <img src="{{ site.marketplace_image }}" alt="{{ site.marketplace_title }}" />
                    {% else %}
                        <div class="marketplace-placeholder">
                            <span>Marketplace Image</span>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </section>


    <!-- Alumni Trust Section -->
    <section class="trust-section">
        <div class="trust-container">
            <p class="trust-text">Developed by USC and UCLA Alumni</p>
            <div class="university-logos">
                <div class="logo-placeholder usc-logo with-logo">
                    <img src="{{ site.usc_logo }}" alt="USC">
                </div>
                <div class="logo-placeholder ucla-logo with-logo">
                    <img src="{{ site.ucla_logo }}" alt="UCLA">
                </div>
            </div>
        </div>
    </section>

    <!-- Footer Container -->
    <div class="container">
        <!-- ========== FOOTER (should span all columns, but your CSS has f for full width) ========== -->
        {% include footer.html %}
        {% include appstoreimages.html %}
    </div>

    <script>
        // Run after DOM is ready
        document.addEventListener('DOMContentLoaded', () => {
          // Simple Timeline Gallery Functionality
          document.querySelectorAll('.timeline-gallery').forEach(gallery => {
            const slides = gallery.querySelectorAll('.timeline-slide');
            const dots = gallery.querySelectorAll('.timeline-dot');
            const arrows = gallery.querySelectorAll('.timeline-arrow');
            
            // Only proceed if there are multiple slides
            if (slides.length <= 1) return;
            
            let currentSlide = 0;
            
            function showSlide(index) {
              // Remove active class from all slides and dots
              slides.forEach(slide => slide.classList.remove('active'));
              dots.forEach(dot => dot.classList.remove('active'));
              
              // Add active class to current slide and dot
              if (slides[index]) {
                slides[index].classList.add('active');
                dots[index]?.classList.add('active');
                currentSlide = index;
              }
            }
            
            function nextSlide() {
              const next = (currentSlide + 1) % slides.length;
              showSlide(next);
            }
            
            function prevSlide() {
              const prev = currentSlide === 0 ? slides.length - 1 : currentSlide - 1;
              showSlide(prev);
            }
            
            // Dot navigation
            dots.forEach((dot, index) => {
              dot.addEventListener('click', () => {
                showSlide(index);
              });
            });
            
            // Arrow navigation
            arrows.forEach(arrow => {
              arrow.addEventListener('click', () => {
                const direction = arrow.getAttribute('data-direction');
                if (direction === 'next') {
                  nextSlide();
                } else if (direction === 'prev') {
                  prevSlide();
                }
              });
            });
            
            // Touch/swipe support
            let startX = 0;
            
            gallery.addEventListener('touchstart', (e) => {
              startX = e.touches[0].clientX;
            });
            
            gallery.addEventListener('touchend', (e) => {
              const endX = e.changedTouches[0].clientX;
              const diff = startX - endX;
              
              if (Math.abs(diff) > 50) { // Minimum swipe distance
                if (diff > 0) {
                  // Swipe left - next slide
                  const next = (currentSlide + 1) % slides.length;
                  showSlide(next);
                } else {
                  // Swipe right - previous slide
                  const prev = currentSlide === 0 ? slides.length - 1 : currentSlide - 1;
                  showSlide(prev);
                }
              }
            });
          });
          
          // Legacy code for other carousels
          document.querySelectorAll('.section-image').forEach(wrapper => {
            const carousel = wrapper.querySelector('.image-carousel');
            const dots = wrapper.querySelectorAll('.dot');
      
            if (!carousel || dots.length === 0) return;
      
            carousel.addEventListener('scroll', () => {
              const slideWidth = carousel.clientWidth;
              const index = Math.round(carousel.scrollLeft / slideWidth);
              const activeIndex = Math.min(Math.max(index, 0), dots.length - 1);
      
              dots.forEach((dot, i) => {
                if (i === activeIndex) dot.classList.add('active');
                else dot.classList.remove('active');
              });
            });
      
            if (dots[0]) {
              dots[0].classList.add('active');
            }
          });
        });
    </script>
</body>
</html>